"use strict";var BooksModule=function(){function e(e){a=e,o(a)}function o(e){var o=Handlebars.compile(i),t=o(e);$(".main-book-list").html(t)}function t(e){var t=[];0!==e&&(e=e.toLowerCase());for(var r=0;r<a.length;r++){var i=a[r].title.toLowerCase(),n=a[r].author.toLowerCase();(i.indexOf(e)>-1||n.indexOf(e)>-1||a[r].price===e)&&t.push(a[r])}o(t)}function r(e){var t=$.extend([],a);"rating"==e?t.sort(function(e,o){var t=e.rating,r=o.rating;return t==r?0:r>t?1:-1}):"date"==e&&t.sort(function(e,o){var t=e.date,r=o.date;return t==r?0:r>t?1:-1}),o(t)}var i=$("#books-template").html(),a=[];return{init:e,searchNew:t,sortBy:r}}();Handlebars.registerHelper("loop",function(e,o){for(var t="";e--;)t+=o.fn();return t}),$(function(){var e=DataModule.getBooks();BooksModule.init(e)});var DataModule=function(){function e(){return t}function o(e){for(var o=0;o<e.length;o++)if(e[o].ID!==parseInt(e[o].ID||!e[o].title))return void console.info("Error. Can't save changes to books.")}var t=[{ID:1,title:"Jewels of Nizam",author:"Geeta Devi",rating:5,price:100,date:2015,cover:"img/book-cover.png"},{ID:2,title:"Cakes & Bakes",author:"Sanjeev Kapoor",rating:5,price:80,date:2012,cover:"img/book-cover%20(1).png"},{ID:3,title:"Jamie's Kitchen",author:"Jamie Oliver",rating:4,price:0,date:2014,cover:"img/book-cover%20(2).png"},{ID:4,title:"Inexpensive Family Meals",author:"Simon Holst",rating:4,price:0,date:2010,cover:"img/book-cover%20(3).png"},{ID:5,title:"Paleo Slow Cooking",author:"Chrissy Gower",rating:4,price:50,date:2014,cover:"img/book-cover%20(4).png"},{ID:6,title:"Cook Like an Italian",author:"Tobie Puttock",rating:4,price:0,date:2013,cover:"img/book-cover%20(5).png"},{ID:7,title:"Suneeta Vaswani",author:"Geeta Devi",rating:5,price:75,date:2007,cover:"img/book-cover%20(6).png"},{ID:8,title:"Jamie Does",author:"Jamie Oliver",rating:4,price:0,date:2008,cover:"img/book-cover%20(7).png"},{ID:9,title:"Jamie's italy",author:"Jamie Oliver",rating:5,price:40,date:2011,cover:"img/book-cover%20(8).png"},{ID:10,title:"Vegetables Cookbook",author:"Matthew Biggs",rating:3,price:120,date:2010,cover:"img/book-cover%20(9).png"}];return{getBooks:e,setBooks:o}}();